{"ast":null,"code":"import _asyncToGenerator from\"/Users/bhavesh/Desktop/mern Project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bhavesh/Desktop/mern Project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/bhavesh/Desktop/mern Project/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Row,Col,ListGroup,Image,Card}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Message from'../components/Message';import{getOrderDetails,payOrder}from'../actions/orderActions';import Loader from'../components/Loader';import{useParams,useNavigate}from'react-router-dom';import{PayPalButton}from'react-paypal-button-v2';import{ORDER_PAY_RESET}from\"../constants/orderConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OrderScreen=function OrderScreen(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sdkReady=_useState2[0],setSdkReady=_useState2[1];var history=useNavigate();var orderDetails=useSelector(function(state){return state.orderDetails;});var order=orderDetails.order,loading=orderDetails.loading,error=orderDetails.error;var orderPay=useSelector(function(state){return state.orderPay;});var loadingPay=orderPay.loading,successPay=orderPay.success;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;if(!loading){//   Calculate prices\nvar addDecimals=function addDecimals(num){return(Math.round(num*100)/100).toFixed(2);};order.itemsPrice=addDecimals(order.orderItems.reduce(function(acc,item){return acc+item.price*item.qty;},0));}useEffect(function(){if(!userInfo){history('/login');}var addPayPalScript=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,clientId,script;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/config/paypal');case 2:_yield$axios$get=_context.sent;clientId=_yield$axios$get.data;script=document.createElement('script');script.type='text/javascript';script.src=\"https://www.paypal.com/sdk/js?client-id=\".concat(clientId);script.async=true;script.onload=function(){setSdkReady(true);};document.body.appendChild(script);case 10:case\"end\":return _context.stop();}}},_callee);}));return function addPayPalScript(){return _ref.apply(this,arguments);};}();if(!order||successPay){dispatch({type:ORDER_PAY_RESET});dispatch(getOrderDetails(id));}else if(!order.isPaid){if(!window.paypal){addPayPalScript();}else{setSdkReady(true);}}},[dispatch,id,successPay,order]);var successPaymentHandler=function successPaymentHandler(paymentResult){console.log(paymentResult);dispatch(payOrder(id,paymentResult));};return loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Order No: \",order._id]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',/*#__PURE__*/_jsxs(\"h2\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"strong\",{children:order.user.name}),' ']}),' ']}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',/*#__PURE__*/_jsxs(\"h2\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(order.user.email),children:order.user.email}),' ']}),' ']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),order.shippingAddress.address,\",\",order.shippingAddress.city,\",\",order.shippingAddress.postalCode,\",\",order.shippingAddress.country,\",\"]}),order.isDelivered?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Delivered on \",order.deliveredAt]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Not Delivered\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method:\"}),order.paymentMethod]}),order.isPaid?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Paid on \",order.paidAt]}):/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:\"Not paid\"})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Items\"}),order.orderItems.length===0?/*#__PURE__*/_jsx(Message,{children:\"Your Cart is Empty\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:order.orderItems.map(function(item,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[item.qty,\" x \",item.price,\" = $\",parseInt(item.qty*item.price)]})]})},index);})})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summery \"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.itemsPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.shippingPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Tax\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.taxPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.totalPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error})}),!order.isPaid&&/*#__PURE__*/_jsxs(ListGroup.Item,{children:[loadingPay&&/*#__PURE__*/_jsx(Loader,{}),!sdkReady?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(PayPalButton,{amount:order.totalPrice,onSuccess:successPaymentHandler})]})]})})})]})]});};export default OrderScreen;","map":{"version":3,"sources":["/Users/bhavesh/Desktop/mern Project/frontend/src/screens/OrderScreen.js"],"names":["React","useEffect","useState","axios","Link","Row","Col","ListGroup","Image","Card","useDispatch","useSelector","Message","getOrderDetails","payOrder","Loader","useParams","useNavigate","PayPalButton","ORDER_PAY_RESET","OrderScreen","id","dispatch","sdkReady","setSdkReady","history","orderDetails","state","order","loading","error","orderPay","loadingPay","successPay","success","userLogin","userInfo","addDecimals","num","Math","round","toFixed","itemsPrice","orderItems","reduce","acc","item","price","qty","addPayPalScript","get","clientId","data","script","document","createElement","type","src","async","onload","body","appendChild","isPaid","window","paypal","successPaymentHandler","paymentResult","console","log","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","paidAt","length","map","index","image","product","parseInt","shippingPrice","taxPrice","totalPrice"],"mappings":"yYAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,SAAnB,CAA8BC,KAA9B,CAAqCC,IAArC,KAAiD,iBAAjD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,eAAT,CAA0BC,QAA1B,KAA0C,yBAA1C,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,SAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA,OAAQC,eAAR,KAA8B,6BAA9B,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,eAAaJ,SAAS,EAAtB,CAAMK,EAAN,YAAMA,EAAN,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,cAAgCR,QAAQ,CAAC,KAAD,CAAxC,wCAAOqB,QAAP,eAAiBC,WAAjB,eAEA,GAAIC,CAAAA,OAAO,CAAGR,WAAW,EAAzB,CACA,GAAMS,CAAAA,YAAY,CAAGf,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACD,YAAjB,EAAD,CAAhC,CACA,GAAQE,CAAAA,KAAR,CAAkCF,YAAlC,CAAQE,KAAR,CAAeC,OAAf,CAAkCH,YAAlC,CAAeG,OAAf,CAAwBC,KAAxB,CAAkCJ,YAAlC,CAAwBI,KAAxB,CAEA,GAAMC,CAAAA,QAAQ,CAAGpB,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACI,QAAjB,EAAD,CAA5B,CACA,GAAiBC,CAAAA,UAAjB,CAAqDD,QAArD,CAAQF,OAAR,CAAsCI,UAAtC,CAAqDF,QAArD,CAA6BG,OAA7B,CAEA,GAAMC,CAAAA,SAAS,CAAGxB,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACQ,SAAjB,EAAD,CAA7B,CACA,GAAQC,CAAAA,QAAR,CAAqBD,SAArB,CAAQC,QAAR,CAEA,GAAI,CAACP,OAAL,CAAc,CACZ;AACA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,GAAD,CAAS,CAC3B,MAAO,CAACC,IAAI,CAACC,KAAL,CAAWF,GAAG,CAAG,GAAjB,EAAwB,GAAzB,EAA8BG,OAA9B,CAAsC,CAAtC,CAAP,CACD,CAFD,CAIAb,KAAK,CAACc,UAAN,CAAmBL,WAAW,CAC5BT,KAAK,CAACe,UAAN,CAAiBC,MAAjB,CAAwB,SAACC,GAAD,CAAMC,IAAN,QAAeD,CAAAA,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAaD,IAAI,CAACE,GAAvC,EAAxB,CAAoE,CAApE,CAD4B,CAA9B,CAGD,CAED/C,SAAS,CAAC,UAAM,CACd,GAAI,CAACmC,QAAL,CAAe,CACbX,OAAO,CAAC,QAAD,CAAP,CACD,CAED,GAAMwB,CAAAA,eAAe,0FAAG,8LACW9C,CAAAA,KAAK,CAAC+C,GAAN,CAAU,oBAAV,CADX,uCACRC,QADQ,kBACdC,IADc,CAEhBC,MAFgB,CAEPC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAFO,CAGtBF,MAAM,CAACG,IAAP,CAAc,iBAAd,CACAH,MAAM,CAACI,GAAP,mDAAwDN,QAAxD,EACAE,MAAM,CAACK,KAAP,CAAe,IAAf,CACAL,MAAM,CAACM,MAAP,CAAgB,UAAM,CACpBnC,WAAW,CAAC,IAAD,CAAX,CACD,CAFD,CAGA8B,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,MAA1B,EATsB,uDAAH,kBAAfJ,CAAAA,eAAe,0CAArB,CAYA,GAAI,CAACrB,KAAD,EAAUK,UAAd,CAA2B,CACzBX,QAAQ,CAAC,CAAEkC,IAAI,CAAErC,eAAR,CAAD,CAAR,CACAG,QAAQ,CAACT,eAAe,CAACQ,EAAD,CAAhB,CAAR,CACD,CAHD,IAGO,IAAI,CAACO,KAAK,CAACkC,MAAX,CAAmB,CACxB,GAAI,CAACC,MAAM,CAACC,MAAZ,CAAoB,CAClBf,eAAe,GAChB,CAFD,IAEO,CACLzB,WAAW,CAAC,IAAD,CAAX,CACD,CACF,CACF,CA3BQ,CA2BN,CAACF,QAAD,CAAWD,EAAX,CAAeY,UAAf,CAA2BL,KAA3B,CA3BM,CAAT,CA6BA,GAAMqC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,aAAD,CAAmB,CAC/CC,OAAO,CAACC,GAAR,CAAYF,aAAZ,EACA5C,QAAQ,CAACR,QAAQ,CAACO,EAAD,CAAK6C,aAAL,CAAT,CAAR,CACD,CAHD,CAMA,MAAOrC,CAAAA,OAAO,cACZ,KAAC,MAAD,IADY,CAEVC,KAAK,cACP,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EADO,cAGP,wCACE,mCAAeF,KAAK,CAACyC,GAArB,GADF,cAEE,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,wBACE,MAAC,SAAD,CAAW,IAAX,yBACE,gCADF,cAEE,qBACG,GADH,cAEE,4CACQ,wBAASzC,KAAK,CAAC0C,IAAN,CAAWC,IAApB,EADR,CAC2C,GAD3C,GAFF,CAIQ,GAJR,GAFF,cAQE,qBACG,GADH,cAEE,4CAEE,UAAG,IAAI,kBAAY3C,KAAK,CAAC0C,IAAN,CAAWE,KAAvB,CAAP,UACG5C,KAAK,CAAC0C,IAAN,CAAWE,KADd,EAFF,CAIO,GAJP,GAFF,CAOQ,GAPR,GARF,cAiBE,kCACE,oCADF,CAEG5C,KAAK,CAAC6C,eAAN,CAAsBC,OAFzB,KAEmC9C,KAAK,CAAC6C,eAAN,CAAsBE,IAFzD,KAGG/C,KAAK,CAAC6C,eAAN,CAAsBG,UAHzB,KAIGhD,KAAK,CAAC6C,eAAN,CAAsBI,OAJzB,OAjBF,CAuBGjD,KAAK,CAACkD,WAAN,cACC,MAAC,OAAD,EAAS,OAAO,CAAC,SAAjB,2BACgBlD,KAAK,CAACmD,WADtB,GADD,cAKC,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,2BA5BJ,GADF,cAgCE,MAAC,SAAD,CAAW,IAAX,yBACE,sCADF,cAEE,kCACE,mCADF,CAEGnD,KAAK,CAACoD,aAFT,GAFF,CAMGpD,KAAK,CAACkC,MAAN,cACC,MAAC,OAAD,EAAS,OAAO,CAAC,SAAjB,sBAAoClC,KAAK,CAACqD,MAA1C,GADD,cAGC,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,sBATJ,GAhCF,cA6CE,MAAC,SAAD,CAAW,IAAX,yBACE,mCADF,CAEGrD,KAAK,CAACe,UAAN,CAAiBuC,MAAjB,GAA4B,CAA5B,cACC,KAAC,OAAD,iCADD,cAGC,KAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,UACGtD,KAAK,CAACe,UAAN,CAAiBwC,GAAjB,CAAqB,SAACrC,IAAD,CAAOsC,KAAP,qBACpB,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,KAAD,EACE,GAAG,CAAEtC,IAAI,CAACuC,KADZ,CAEE,GAAG,CAAEvC,IAAI,CAACyB,IAFZ,CAGE,KAAK,KAHP,CAIE,OAAO,KAJT,EADF,EADF,cASE,KAAC,GAAD,wBACE,KAAC,IAAD,EAAM,EAAE,oBAAczB,IAAI,CAACwC,OAAnB,CAAR,UACGxC,IAAI,CAACyB,IADR,EADF,EATF,cAcE,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,WACGzB,IAAI,CAACE,GADR,OACgBF,IAAI,CAACC,KADrB,QAEGwC,QAAQ,CAACzC,IAAI,CAACE,GAAL,CAAWF,IAAI,CAACC,KAAjB,CAFX,GAdF,GADF,EAAqBqC,KAArB,CADoB,EAArB,CADH,EALJ,GA7CF,GADF,EADF,cAiFE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,IAAD,wBACE,MAAC,SAAD,yBACE,KAAC,SAAD,CAAW,IAAX,wBACE,sCADF,EADF,cAIE,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,oBADF,cAEE,MAAC,GAAD,gBAAOxD,KAAK,CAACc,UAAb,GAFF,GADF,EAJF,cAUE,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,uBADF,cAEE,MAAC,GAAD,gBAAOd,KAAK,CAAC4D,aAAb,GAFF,GADF,EAVF,cAgBE,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,kBADF,cAEE,MAAC,GAAD,gBAAO5D,KAAK,CAAC6D,QAAb,GAFF,GADF,EAhBF,cAsBE,KAAC,SAAD,CAAW,IAAX,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,oBADF,cAEE,MAAC,GAAD,gBAAO7D,KAAK,CAAC8D,UAAb,GAFF,GADF,EAtBF,cA4BE,KAAC,SAAD,CAAW,IAAX,WACG5D,KAAK,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EADZ,EA5BF,CAgCG,CAACF,KAAK,CAACkC,MAAP,eACC,MAAC,SAAD,CAAW,IAAX,YACG9B,UAAU,eAAI,KAAC,MAAD,IADjB,CAEG,CAACT,QAAD,cACC,KAAC,MAAD,IADD,cAGC,KAAC,YAAD,EACE,MAAM,CAAEK,KAAK,CAAC8D,UADhB,CAEE,SAAS,CAAEzB,qBAFb,EALJ,GAjCJ,GADF,EADF,EAjFF,GAFF,GALF,CA6ID,CA1MD,CA4MA,cAAe7C,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport { getOrderDetails, payOrder } from '../actions/orderActions'\nimport Loader from '../components/Loader'\nimport { useParams,useNavigate } from 'react-router-dom'\nimport { PayPalButton } from 'react-paypal-button-v2'\nimport {ORDER_PAY_RESET} from \"../constants/orderConstants\"\n\nconst OrderScreen = () => {\n  let { id } = useParams()\n  const dispatch = useDispatch()\n  const [sdkReady, setSdkReady] = useState(false)\n\n  let history = useNavigate()\n  const orderDetails = useSelector((state) => state.orderDetails)\n  const { order, loading, error } = orderDetails\n\n  const orderPay = useSelector((state) => state.orderPay)\n  const { loading: loadingPay, success: successPay } = orderPay\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  if (!loading) {\n    //   Calculate prices\n    const addDecimals = (num) => {\n      return (Math.round(num * 100) / 100).toFixed(2)\n    }\n\n    order.itemsPrice = addDecimals(\n      order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0)\n    )\n  }\n\n  useEffect(() => {\n    if (!userInfo) {\n      history('/login')\n    }\n\n    const addPayPalScript = async () => {\n      const { data: clientId } = await axios.get('/api/config/paypal')\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\n      script.async = true\n      script.onload = () => {\n        setSdkReady(true)\n      }\n      document.body.appendChild(script)\n    }\n\n    if (!order || successPay ) {\n      dispatch({ type: ORDER_PAY_RESET })\n      dispatch(getOrderDetails(id))\n    } else if (!order.isPaid) {\n      if (!window.paypal) {\n        addPayPalScript()\n      } else {\n        setSdkReady(true)\n      }\n    }\n  }, [dispatch, id, successPay, order])\n\n  const successPaymentHandler = (paymentResult) => {\n    console.log(paymentResult)\n    dispatch(payOrder(id, paymentResult))\n  }\n\n\n  return loading ? (\n    <Loader />\n  ) : error ? (\n    <Message variant='danger'>{error}</Message>\n  ) : (\n    <>\n      <h1>Order No: {order._id}</h1>\n      <Row>\n        <Col md={8}>\n          <ListGroup variant='flush'>\n            <ListGroup.Item>\n              <h2>Shipping</h2>\n              <p>\n                {' '}\n                <h2>\n                  Name: <strong>{order.user.name}</strong>{' '}\n                </h2>{' '}\n              </p>\n              <p>\n                {' '}\n                <h2>\n                  Email:\n                  <a href={`mailto:${order.user.email}`}>\n                    {order.user.email}\n                  </a>{' '}\n                </h2>{' '}\n              </p>\n              <p>\n                <strong>Address:</strong>\n                {order.shippingAddress.address},{order.shippingAddress.city},\n                {order.shippingAddress.postalCode},\n                {order.shippingAddress.country},\n              </p>\n              {order.isDelivered ? (\n                <Message variant='success'>\n                  Delivered on {order.deliveredAt}\n                </Message>\n              ) : (\n                <Message variant='danger'>Not Delivered</Message>\n              )}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <h2>Payment Method</h2>\n              <p>\n                <strong>Method:</strong>\n                {order.paymentMethod}\n              </p>\n              {order.isPaid ? (\n                <Message variant='success'>Paid on {order.paidAt}</Message>\n              ) : (\n                <Message variant='danger'>Not paid</Message>\n              )}\n            </ListGroup.Item>\n\n            <ListGroup.Item>\n              <h2>Order Items</h2>\n              {order.orderItems.length === 0 ? (\n                <Message>Your Cart is Empty</Message>\n              ) : (\n                <ListGroup variant='flush'>\n                  {order.orderItems.map((item, index) => (\n                    <ListGroup.Item key={index}>\n                      <Row>\n                        <Col md={1}>\n                          <Image\n                            src={item.image}\n                            alt={item.name}\n                            fluid\n                            rounded\n                          />\n                        </Col>\n                        <Col>\n                          <Link to={`/product/${item.product}`}>\n                            {item.name}\n                          </Link>\n                        </Col>\n                        <Col md={4}>\n                          {item.qty} x {item.price} = $\n                          {parseInt(item.qty * item.price)}\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                  ))}\n                </ListGroup>\n              )}\n            </ListGroup.Item>\n          </ListGroup>\n        </Col>\n        <Col md={4}>\n          <Card>\n            <ListGroup>\n              <ListGroup.Item>\n                <h2>Order Summery </h2>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Items</Col>\n                  <Col>${order.itemsPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Shipping</Col>\n                  <Col>${order.shippingPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Tax</Col>\n                  <Col>${order.taxPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>Total</Col>\n                  <Col>${order.totalPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                {error && <Message variant='danger'>{error}</Message>}\n              </ListGroup.Item>\n\n              {!order.isPaid && (\n                <ListGroup.Item>\n                  {loadingPay && <Loader />}\n                  {!sdkReady ? (\n                    <Loader />\n                  ) : (\n                    <PayPalButton\n                      amount={order.totalPrice}\n                      onSuccess={successPaymentHandler}\n                    />\n                  )}\n                </ListGroup.Item>\n              )}\n            </ListGroup>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default OrderScreen\n"]},"metadata":{},"sourceType":"module"}